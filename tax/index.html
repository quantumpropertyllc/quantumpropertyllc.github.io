<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 Tax Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- SIDEBAR -->

    <!-- DISCLAIMER OVERLAY -->
    <div id="disclaimer-overlay" class="overlay">
        <div class="overlay-content">
            <div class="lang-switch">
                <button class="btn-lang active" onclick="setLang('en')">English</button>
                <button class="btn-lang" onclick="setLang('cn')">ä¸­æ–‡</button>
            </div>

            <div id="text-en" class="disclaimer-text">
                <h2>Disclaimer & User Agreement</h2>
                <div class="scroll-area">
                    <p><strong>This application is provided for informational and educational purposes only.</strong> It
                        is not a substitute for professional tax, legal, or accounting advice.</p>
                    <p>The tax calculations, forms (including but not limited to IRS Form 1040), and information
                        generated by this app are intended to assist you in understanding and preparing your own tax
                        documents. They do not constitute official tax filings, and this app does not file taxes on your
                        behalf.</p>
                    <p>For your actual federal or state tax return, you should consult a licensed professional
                        accountant or tax advisor.</p>

                    <h3>No Responsibility or Liability</h3>
                    <p>The developers of this app assume no responsibility or liability for any errors, omissions, tax
                        outcomes, penalties, interest, or damages resulting from the use of this app.</p>

                    <h3>Privacy Notice</h3>
                    <p>This app does not require your name, Social Security Number (SSN), or other personally
                        identifiable information. All data you enter remains entirely on your device. No data is
                        transmitted, uploaded, stored, or collected by us or any third party.</p>

                    <p>By tapping â€œI Agree & Continueâ€, you acknowledge that you have read, understood, and agreed to
                        the terms above.</p>
                </div>
                <div class="actions">
                    <button class="btn btn-secondary" onclick="disagree()">Do Not Agree</button>
                    <button class="btn btn-primary" onclick="agree()">I Agree & Continue</button>
                </div>
            </div>

            <div id="text-cn" class="disclaimer-text" style="display:none;">
                <h2>å…è´£å£°æ˜ä¸ç”¨æˆ·ç¡®è®¤</h2>
                <div class="scroll-area">
                    <p><strong>æœ¬åº”ç”¨ä»…ç”¨äºä¿¡æ¯å‚è€ƒå’Œæ•™è‚²ç›®çš„ï¼Œä¸æ„æˆä»»ä½•å½¢å¼çš„ç¨åŠ¡ã€æ³•å¾‹æˆ–ä¼šè®¡ä¸“ä¸šæ„è§ã€‚</strong></p>
                    <p>æœ¬åº”ç”¨æ‰€æä¾›çš„ç¨åŠ¡è®¡ç®—ã€è¡¨æ ¼ï¼ˆåŒ…æ‹¬ä½†ä¸é™äº IRS 1040 è¡¨ï¼‰åŠç›¸å…³ä¿¡æ¯ï¼Œä»…ç”¨äºååŠ©æ‚¨ç†è§£å¹¶è‡ªè¡Œå¡«å†™æŠ¥ç¨æ–‡ä»¶ã€‚æœ¬åº”ç”¨ä¸ä»£è¡¨å®˜æ–¹æŠ¥ç¨ç³»ç»Ÿï¼Œä¹Ÿä¸ä¼šä»£æ‚¨æäº¤ä»»ä½•ç¨åŠ¡ç”³æŠ¥ã€‚</p>
                    <p>å¦‚éœ€æ­£å¼è¿›è¡Œè”é‚¦æˆ–å·ç¨åŠ¡ç”³æŠ¥ï¼Œè¯·å’¨è¯¢æŒè¯çš„ä¸“ä¸šä¼šè®¡å¸ˆæˆ–ç¨åŠ¡é¡¾é—®ã€‚</p>

                    <h3>è´£ä»»å£°æ˜</h3>
                    <p>å¯¹äºå› ä½¿ç”¨æœ¬åº”ç”¨è€Œäº§ç”Ÿçš„ä»»ä½•é”™è¯¯ã€é—æ¼ã€ç¨åŠ¡ç»“æœã€ç½šæ¬¾ã€åˆ©æ¯æˆ–å…¶ä»–æŸå¤±ï¼Œæœ¬åº”ç”¨å¼€å‘è€…ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»æˆ–æ³•å¾‹ä¹‰åŠ¡ã€‚</p>

                    <h3>éšç§è¯´æ˜</h3>
                    <p>æœ¬åº”ç”¨ä¸è¦æ±‚æ‚¨æä¾›å§“åã€ç¤¾ä¼šå®‰å…¨å·ç ï¼ˆSSNï¼‰æˆ–å…¶ä»–å¯è¯†åˆ«ä¸ªäººèº«ä»½çš„ä¿¡æ¯ã€‚æ‚¨è¾“å…¥çš„æ‰€æœ‰æ•°æ®ä»…ä¿å­˜åœ¨æ‚¨çš„è®¾å¤‡æœ¬åœ°ã€‚æˆ‘ä»¬ä¸ä¼šæ”¶é›†ã€å­˜å‚¨ã€ä¸Šä¼ æˆ–å…±äº«æ‚¨çš„ä»»ä½•ä¿¡æ¯ï¼Œä¹Ÿä¸ä¼šå‘ä»»ä½•ç¬¬ä¸‰æ–¹ä¼ è¾“æ•°æ®ã€‚</p>

                    <p>ç‚¹å‡» â€œåŒæ„å¹¶ç»§ç»­â€ å³è¡¨ç¤ºæ‚¨å·²é˜…è¯»ã€ç†è§£å¹¶åŒæ„ä¸Šè¿°å†…å®¹ã€‚</p>
                </div>
                <div class="actions">
                    <button class="btn btn-secondary" onclick="disagree()">ä¸åŒæ„</button>
                    <button class="btn btn-primary" onclick="agree()">åŒæ„å¹¶ç»§ç»­</button>
                </div>
            </div>
        </div>
    </div>

    <!-- BLOCKED VIEW (If they disagree) -->
    <div id="blocked-view" class="overlay" style="display:none; background: #000;">
        <div style="color:white; text-align:center;">
            <h2>Access Denied</h2>
            <p>You must agree to the terms to use this application.</p>
            <button class="btn btn-ghost" style="color:white; border:1px solid white; margin-top:20px;"
                onclick="resetApp()">Back</button>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main-content">

        <!-- DASHBOARD VIEW -->
        <div id="dashboard" class="view-section">
            <div class="header">
                <h1>Welcome Back</h1>
                <p>Let's get your highest possible refund. What do you want to work on today?</p>
                <div style="margin-top: 15px;">
                    <label style="font-size: 0.9rem; font-weight: 500;">Filing Status:</label>
                    <select id="filing-status-select"
                        style="padding: 5px; border-radius: 4px; border: 1px solid #ccc; margin-left: 10px;">
                        <option value="single">Single</option>
                        <option value="mfj">Married Filing Jointly</option>
                        <option value="mfs">Married Filing Separately</option>
                        <option value="hoh">Head of Household</option>
                        <option value="qw">Qualifying Surviving Spouse</option>
                    </select>
                </div>
            </div>

            <h2 style="margin-bottom: 20px;">Income</h2>
            <div class="tile-grid">
                <!-- W-2 Tile -->
                <div class="tile" onclick="openW2()">
                    <div>
                        <div class="tile-icon">ğŸ“„</div>
                        <h3>Wages (W-2)</h3>
                        <p>Salary, bonuses, and tips.</p>
                        <div id="w2-list" style="margin-top: 10px; font-size: 0.85rem; color: #495057;">
                            <!-- Summaries go here -->
                        </div>
                    </div>
                    <div class="tile-action" id="dash-wages-total">Add W-2</div>
                </div>

                <!-- 1099-INT Tile -->
                <div class="tile" onclick="openInt()">
                    <div>
                        <div class="tile-icon">ğŸ¦</div>
                        <h3>Interest (1099-INT)</h3>
                        <p>Bank interest and CDs.</p>
                        <div id="int-list" style="margin-top: 10px; font-size: 0.85rem; color: #495057;"></div>
                    </div>
                    <div class="tile-action" id="dash-int-total">Add Interest</div>
                </div>

                <!-- 1099-DIV Tile -->
                <div class="tile" onclick="openDiv()">
                    <div>
                        <div class="tile-icon">ğŸ“ˆ</div>
                        <h3>Dividends (1099-DIV)</h3>
                        <p>Stock dividends and distributions.</p>
                        <div id="div-list" style="margin-top: 10px; font-size: 0.85rem; color: #495057;"></div>
                    </div>
                    <div class="tile-action" id="dash-div-total">Add Dividends</div>
                </div>
            </div>

            <h2 style="margin-bottom: 20px;">Deductions & Credits</h2>
            <div class="tile-grid">
                <!-- Standard/Itemized Tile -->
                <div class="tile">
                    <div>
                        <div class="tile-icon">ğŸ›¡ï¸</div>
                        <h3>Deductions</h3>
                        <p>Standard vs. Itemized analysis.</p>
                    </div>
                    <div class="tile-action">Review</div>
                </div>
            </div>
        </div>

        <!-- REVIEW VIEW -->
        <div id="review" class="view-section">
            <div class="header">
                <h1>Review Your 1040</h1>
                <p>This is a draft preview of your 2025 Form 1040 based on entered data.</p>
            </div>

            <div class="form-1040">
                <div class="form-1040-header">
                    <div style="font-weight:bold; font-size:1.2rem;">Form 1040</div>
                    <div>U.S. Individual Income Tax Return 2025</div>
                </div>

                <!-- Income Section -->
                <div class="line-section">Income</div>
                <div class="line-row">
                    <div class="line-num">1z</div>
                    <div class="line-desc">Wages, salaries, tips, etc.</div>
                    <div class="line-val" id="l1z">$0.00</div>
                </div>
                <div class="line-row">
                    <div class="line-num">2b</div>
                    <div class="line-desc">Taxable interest</div>
                    <div class="line-val" id="l2b">$0.00</div>
                </div>
                <div class="line-row">
                    <div class="line-num">3b</div>
                    <div class="line-desc">Ordinary dividends</div>
                    <div class="line-val" id="l3b">$0.00</div>
                </div>
                <div class="line-row total">
                    <div class="line-num">9</div>
                    <div class="line-desc">Total Income</div>
                    <div class="line-val" id="l9">$0.00</div>
                </div>

                <!-- Deductions -->
                <div class="line-section">Standard Deduction</div>
                <div class="line-row">
                    <div class="line-num">12</div>
                    <div class="line-desc">Standard Deduction or Itemized Deductions</div>
                    <div class="line-val" id="l12">$0.00</div>
                </div>
                <div class="line-row total">
                    <div class="line-num">15</div>
                    <div class="line-desc">Taxable Income</div>
                    <div class="line-val" id="l15">$0.00</div>
                </div>

                <!-- Tax -->
                <div class="line-section">Tax and Credits</div>
                <div class="line-row">
                    <div class="line-num">16</div>
                    <div class="line-desc">Tax (see instructions)</div>
                    <div class="line-val" id="l16">$0.00</div>
                </div>
                <div class="line-row total">
                    <div class="line-num">24</div>
                    <div class="line-desc">Total Tax</div>
                    <div class="line-val" id="l24">$0.00</div>
                </div>

                <!-- Payments -->
                <div class="line-section">Payments</div>
                <div class="line-row">
                    <div class="line-num">25a</div>
                    <div class="line-desc">Federal income tax withheld from Form(s) W-2</div>
                    <div class="line-val" id="l25a">$0.00</div>
                </div>
                <div class="line-row">
                    <div class="line-num">25b</div>
                    <div class="line-desc">Federal income tax withheld from Form(s) 1099</div>
                    <div class="line-val" id="l25b">$0.00</div>
                </div>
                <div class="line-row total">
                    <div class="line-num">33</div>
                    <div class="line-desc">Total Payments</div>
                    <div class="line-val" id="l33">$0.00</div>
                </div>

                <!-- Refund -->
                <div class="line-section" style="background:#e6fcf5; color:#087f5b;">Refund</div>
                <div class="line-row big-result">
                    <div class="line-num">34</div>
                    <div class="line-desc">Amount you overpaid</div>
                    <div class="line-val" id="l34">$0.00</div>
                </div>

                <!-- Owe -->
                <div class="line-section" style="background:#fff5f5; color:#c92a2a;">Amount You Owe</div>
                <div class="line-row big-result">
                    <div class="line-num">37</div>
                    <div class="line-desc">Amount you owe</div>
                    <div class="line-val" id="l37">$0.00</div>
                </div>

            </div>

            <pre id="debug-output"
                style="margin-top: 30px; background: #f1f3f5; padding: 20px; border-radius: 8px; display:none;"></pre>
        </div>

    </div>

    <!-- MODALS -->

    <!-- W-2 Modal -->
    <div id="modal-w2" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Add W-2</div>
                <div class="close" onclick="closeW2()">Ã—</div>
            </div>

            <div class="form-group">
                <label>Employer Name</label>
                <input type="text" id="w2-employer" placeholder="e.g. Acme Corp">
            </div>

            <div class="form-row">
                <div class="form-group half">
                    <label>Wages (Box 1)</label>
                    <input type="number" id="w2-wages" placeholder="0.00">
                </div>
                <div class="form-group half">
                    <label>Federal Tax Withheld (Box 2)</label>
                    <input type="number" id="w2-fedtax" placeholder="0.00">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group half">
                    <label>Social Security Wages (Box 3)</label>
                    <input type="number" id="w2-ss-wages" placeholder="0.00">
                </div>
                <div class="form-group half">
                    <label>Social Security Tax (Box 4)</label>
                    <input type="number" id="w2-ss-tax" placeholder="0.00">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group half">
                    <label>Medicare Wages (Box 5)</label>
                    <input type="number" id="w2-med-wages" placeholder="0.00">
                </div>
                <div class="form-group half">
                    <label>Medicare Tax (Box 6)</label>
                    <input type="number" id="w2-med-tax" placeholder="0.00">
                </div>
            </div>

            <div style="text-align: right; margin-top: 30px;">
                <button class="btn btn-ghost" onclick="closeW2()">Cancel</button>
                <button class="btn btn-primary" id="btn-save-w2">Save W-2</button>
            </div>
        </div>
    </div>

    <!-- 1099-INT Modal -->
    <div id="modal-int" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Add 1099-INT</div>
                <div class="close" onclick="closeInt()">Ã—</div>
            </div>
            <div class="form-group">
                <label>Payer's Name</label>
                <input type="text" id="int-payer" placeholder="e.g. Chase Bank">
            </div>
            <div class="form-group">
                <label>Interest Income (Box 1)</label>
                <input type="number" id="int-amount" placeholder="0.00">
            </div>
            <div style="text-align: right; margin-top: 30px;">
                <button class="btn btn-ghost" onclick="closeInt()">Cancel</button>
                <button class="btn btn-primary" id="btn-save-int">Save Interest</button>
            </div>
        </div>
    </div>

    <!-- 1099-DIV Modal -->
    <div id="modal-div" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Add 1099-DIV</div>
                <div class="close" onclick="closeDiv()">Ã—</div>
            </div>
            <div class="form-group">
                <label>Payer's Name</label>
                <input type="text" id="div-payer" placeholder="e.g. Fidelity">
            </div>
            <div class="form-row">
                <div class="form-group half">
                    <label>Ordinary Dividends (1a)</label>
                    <input type="number" id="div-ord" placeholder="0.00">
                </div>
                <div class="form-group half">
                    <label>Qualified Dividends (1b)</label>
                    <input type="number" id="div-qual" placeholder="0.00">
                </div>
            </div>
            <div style="text-align: right; margin-top: 30px;">
                <button class="btn btn-ghost" onclick="closeDiv()">Cancel</button>
                <button class="btn btn-primary" id="btn-save-div">Save Dividends</button>
            </div>
        </div>
    </div>
    <script src="modules/tax_tables.js"></script>
    <script src="modules/constants.js"></script>
    <script src="modules/calc_1040.js"></script>
    <script src="modules/state.js"></script>
    <script src="modules/navigation.js"></script>
    <script src="modules/forms/w2.js"></script>
    <script src="modules/forms/1099int.js"></script>
    <script src="modules/forms/1099div.js"></script>
    <script src="script.js"></script>

    <!-- Inline Wrappers for Global access from HTML clicks -->
    <script>
        // Global helper for the tile click
        window.openW2 = () => window.TaxCore.Forms.W2.open();
        window.closeW2 = () => window.TaxCore.Nav.closeModal('modal-w2');

        window.openInt = () => window.TaxCore.Forms.Int.open();
        window.closeInt = () => window.TaxCore.Nav.closeModal('modal-int');

        window.openDiv = () => window.TaxCore.Forms.Div.open();
        window.closeDiv = () => window.TaxCore.Nav.closeModal('modal-div');

        // Disclaimer Logic
        function setLang(lang) {
            const en = document.getElementById('text-en');
            const cn = document.getElementById('text-cn');
            const btns = document.querySelectorAll('.btn-lang');

            if (lang === 'en') {
                en.style.display = 'block';
                cn.style.display = 'none';
                btns[0].classList.add('active');
                btns[1].classList.remove('active');
            } else {
                en.style.display = 'none';
                cn.style.display = 'block';
                btns[0].classList.remove('active');
                btns[1].classList.add('active');
            }
        }

        function agree() {
            document.getElementById('disclaimer-overlay').style.display = 'none';
        }

        function disagree() {
            document.getElementById('disclaimer-overlay').style.display = 'none';
            document.getElementById('blocked-view').style.display = 'flex';
        }

        function resetApp() {
            document.getElementById('blocked-view').style.display = 'none';
            document.getElementById('disclaimer-overlay').style.display = 'flex';
        }
    </script>

</body>

</html>